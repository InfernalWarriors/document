<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script src="../build/react.min.js"></script>
    	<script src="../build/react-dom.min.js"></script>
    	<script src="../build/browser.min.js"></script>
	</head>
	<body>
		
		<div id="example"></div>
	
		<script type="text/babel">
		
		
      	var AnswerRadioInput = React.createClass({
      		
      		propTypes:{
      			id:React.PropTypes.string,
      			name:React.PropTypes.string.isRequired,
      			label:React.PropTypes.string.isRequired,
      			value:React.PropTypes.string.isRequired,
      			checked:React.PropTypes.bool
      		},
      		handleChange:function(e){
      			var checked=e.target.checked;
      			this.setState({checked:checked});
      			
      				alert(this.props.value);
      			
      		},
      		getDefaultProps:function(){
      			return {
      				id:null,
      				checked:false
      			}
      			
      		},
      		
      		getInitialState:function(){
      			var id=this.props.id?this.props.id:uniqueId('radio-');
      			return {
      				checked:!!this.props.checked,
      				id:id,
      				name:id
      			}
      		},
      		render:function(){
      			return(
      				<div className="radio">
      					<label htmlFor={this.props.id}>
      						<input type="radio" 
      							name={this.props.name}
      							id={this.props.id}
      							value={this.props.value}
      							onChange={this.handleChange}
      							/>
      							{this.props.label}
      					</label>
      					
      				</div>
      			);
      		}
      		
      	});
      	
      	
      	var AnswerMultipleChoiceQuestion=React.createClass({
      		handleChange:function(value){
      			alert(value);
      			return true;
      		},
      		renderChioces:function(){
      			
      			var d=this.props.choices.map(function(choice,i){
      				alert(i);
      				return <AnswerRadioInput id="tes" name="test" label={choice} value={choice} />;
      				
      			}.bind(this));
      			return d;
      		},
      		propTypes:{
      			value:React.PropTypes.string,
      			choices:React.PropTypes.array.isRequired,
      			onCompleted:React.PropTypes.func.isRequired
      		},
      		
      		getInitialState:function(){
      			return{
      				
      				value:this.props.value
      			};
      		},
      		
      		render:function(){
      			return (
      				<div className="form-group">
      					<label className="survey-item-label" htmlFor={this.state.id}>
      						{this.props.label}
      					</label>
      					<div className="survey-item-content">
      						
      						{this.renderChioces()}
      					</div>
      					
      				</div>
      			);
      		}
      		
      	});
		var choices=["测试1","测试2","测试3","测试4"];
      	ReactDOM.render(
      		
      		
      		
        	<AnswerMultipleChoiceQuestion name="sudi" id="1" choices={choices} value="3" label="测试" />,
        	document.getElementById('example')
      	);
    </script>
	</body>
</html>
